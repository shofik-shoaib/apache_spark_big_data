<!DOCTYPE html ><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title>Scala Compiler 2.13.12 - scala.tools.nsc.backend.jvm.opt</title><meta content="Scala Compiler 2.13.12 - scala.tools.nsc.backend.jvm.opt" name="description"/><meta content="Scala Compiler 2.13.12 scala.tools.nsc.backend.jvm.opt" name="keywords"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link href="../../../../../../lib/index.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../../../lib/print.css" media="print" type="text/css" rel="stylesheet"/><link href="../../../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css"/><script type="text/javascript" src="../../../../../../lib/jquery.min.js"></script><script type="text/javascript" src="../../../../../../lib/index.js"></script><script type="text/javascript" src="../../../../../../index.js"></script><script type="text/javascript" src="../../../../../../lib/scheduler.js"></script><script type="text/javascript" src="../../../../../../lib/template.js"></script><script type="text/javascript" src="https://d3js.org/d3.v4.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js"></script><script type="text/javascript">/* this variable can be used by the JS to determine the path to the root document */
var toRoot = '../../../../../../';</script></head><body><div id="search"><span id="doc-title">Scala Compiler<span id="doc-version">2.13.12</span></span> <span class="close-results"><span class="left">&lt;</span> Back</span><div id="textfilter"><span class="input"><input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/"/><i class="clear material-icons"></i><i id="search-icon" class="material-icons"></i></span></div></div><div id="search-results"><div id="search-progress"><div id="progress-fill"></div></div><div id="results-content"><div id="entity-results"></div><div id="member-results"></div></div></div><div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;"><div id="content-container" style="-webkit-overflow-scrolling: touch;"><div id="subpackage-spacer"><div id="packages"><h1>Packages</h1><ul><li class="indented0 " name="_root_.root" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="_root_" class="anchorToMember"></a><a id="root:_root_" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../../../index.html" title="The Scala compiler and reflection APIs."><span class="name">root</span></a></span><p class="shortcomment cmt">The Scala compiler and reflection APIs.</p><div class="fullcomment"><div class="comment cmt"><p>The Scala compiler and reflection APIs.</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented1 " name="_root_.scala" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="scala" class="anchorToMember"></a><a id="scala:scala" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../../index.html" title=""><span class="name">scala</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented2 " name="scala.tools" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="tools" class="anchorToMember"></a><a id="tools:tools" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../index.html" title=""><span class="name">tools</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../../index.html" name="scala" id="scala" class="extype">scala</a></dd></dl></div></li><li class="indented3 " name="scala.tools.nsc" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="nsc" class="anchorToMember"></a><a id="nsc:nsc" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../index.html" title=""><span class="name">nsc</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="scala.tools" id="scala.tools" class="extype">tools</a></dd></dl></div></li><li class="indented4 " name="scala.tools.nsc.backend" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="backend" class="anchorToMember"></a><a id="backend:backend" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../index.html" title=""><span class="name">backend</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="scala.tools.nsc" id="scala.tools.nsc" class="extype">nsc</a></dd></dl></div></li><li class="indented5 " name="scala.tools.nsc.backend.jvm" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="jvm" class="anchorToMember"></a><a id="jvm:jvm" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../index.html" title=""><span class="name">jvm</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../index.html" name="scala.tools.nsc.backend" id="scala.tools.nsc.backend" class="extype">backend</a></dd></dl></div></li><li class="indented6 " name="scala.tools.nsc.backend.jvm.analysis" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="analysis" class="anchorToMember"></a><a id="analysis:analysis" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/analysis/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../analysis/index.html" title="Summary on the ASM analyzer framework --------------------------------------"><span class="name">analysis</span></a></span><p class="shortcomment cmt">Summary on the ASM analyzer framework
--------------------------------------</p><div class="fullcomment"><div class="comment cmt"><p>Summary on the ASM analyzer framework
--------------------------------------</p><p>Value</p><ul><li>Abstract, needs to be implemented for each analysis.</li><li>Represents the desired information about local variables and stack values, for example:<ul><li>Is this value known to be null / not null?</li><li>What are the instructions that could potentially have produced this value?</li></ul></li></ul><p>Interpreter</p><ul><li>Abstract, needs to be implemented for each analysis. Sometimes one can subclass an existing
   interpreter, e.g., SourceInterpreter or BasicInterpreter.</li><li>Multiple abstract methods that receive an instruction and the instruction's input values, and
   return a value representing the result of that instruction.<ul><li>Note: due to control flow, the interpreter can be invoked multiple times for the same
     instruction, until reaching a fixed point.</li></ul></li><li>Abstract <code>merge</code> function that computes the least upper bound of two values. Used by
   Frame.merge (see below).</li></ul><p>Frame</p><ul><li>Can be used directly for many analyses, no subclass required.</li><li>Every frame has an array of values: one for each local variable and for each stack slot.<ul><li>A <code>top</code> index stores the index of the current stack top</li><li>NOTE: for a size-2 local variable at index i, the local variable at i+1 is set to an empty
     value. However, for a size-2 value at index i on the stack, the value at i+1 holds the next
     stack value. IMPORTANT: this is only the case in ASM's analysis framework, not in bytecode.
     See comment below.</li></ul></li><li>Defines the <code>execute(instruction)</code> method.<ul><li>executing mutates the state of the frame according to the effect of the instruction<ul><li>pop consumed values from the stack</li><li>pass them to the interpreter together with the instruction</li><li>if applicable, push the resulting value on the stack</li></ul></li></ul></li><li>Defines the <code>merge(otherFrame)</code> method<ul><li>called by the analyzer when multiple control flow paths lead to an instruction<ul><li>the frame at the branching instruction is merged into the current frame of the
       instruction (held by the analyzer)</li><li>mutates the values of the current frame, merges all values using interpreter.merge.</li></ul></li></ul></li></ul><p>Analyzer</p><ul><li>Stores a frame for each instruction</li><li><code>merge</code> function takes an instruction and a frame, merges the existing frame for that instr
    (from the frames array) with the new frame passed as argument.
    if the frame changed, puts the instruction on the work queue (fixpoint).</li><li>initial frame: initialized for first instr by calling interpreter.new[...]Value
    for each slot (locals and params), stored in frames[firstInstr] by calling <code>merge</code></li><li>work queue of instructions (<code>queue</code> array, <code>top</code> index for next instruction to analyze)</li><li>analyze(method): simulate control flow. while work queue non-empty:<ul><li>copy the state of <code>frames[instr]</code> into a local frame <code>current</code></li><li>call <code>current.execute(instr, interpreter)</code>, mutating the <code>current</code> frame</li><li>if it's a branching instruction<ul><li>for all potential destination instructions<ul><li>merge the destination instruction frame with the <code>current</code> frame
          (this enqueues the destination instr if its frame changed)</li></ul></li><li>invoke <code>newControlFlowEdge</code> (see below)</li></ul></li></ul></li><li>the analyzer also tracks active exception handlers at each instruction</li><li>the empty method <code>newControlFlowEdge</code> can be overridden to track control flow if required</li></ul><p>MaxLocals and MaxStack
----------------------</p><p>At the JVM level, long and double values occupy two slots, both as local variables and on the
stack, as specified in the JVM spec 2.6.2:
  "At any point in time, an operand stack has an associated depth, where a value of type long or
   double contributes two units to the depth and a value of any other type contributes one unit."</p><p>For example, a method
  class A { def f(a: Long, b: Long) = a + b }
has MAXSTACK=4 in the classfile. This value is computed by the ClassWriter / MethodWriter when
generating the classfile (we always pass COMPUTE_MAXS to the ClassWriter).</p><p>For running an ASM Analyzer, long and double values occupy two local variable slots, but only
a single slot on the call stack, as shown by the following snippet:</p><p>  import scala.tools.nsc.backend.jvm._
  import scala.tools.nsc.backend.jvm.opt.BytecodeUtils._
  import scala.collection.convert.decorateAsScala._
  import scala.tools.asm.tree.analysis._</p><p>  val cn = AsmUtils.readClass("/Users/luc/scala/scala/sandbox/A.class")
  val m = cn.methods.iterator.asScala.find(_.name == "f").head</p><p>  // the value is read from the classfile, so it's 4
  println(s"maxLocals: ${m.maxLocals}, maxStack: ${m.maxStack}") // maxLocals: 5, maxStack: 4</p><p>  // we can safely set it to 2 for running the analyzer.
  m.maxStack = 2</p><p>  val a = new Analyzer(new BasicInterpreter)
  a.analyze(cn.name, m)
  val addInsn = m.instructions.iterator.asScala.find(_.getOpcode == 97).get // LADD Opcode
  val addFrame = a.frameAt(addInsn, m)</p><p>  addFrame.getStackSize // 2: the two long values only take one slot each
  addFrame.getLocals    // 5: this takes one slot, the two long parameters take 2 slots each</p><p>While running the optimizer, we need to make sure that the <code>maxStack</code> value of a method is
large enough for running an ASM analyzer. We don't need to worry if the value is incorrect in
the JVM perspective: the value will be re-computed and overwritten in the ClassWriter.</p><p>Lessons learnt while benchmarking the alias tracking analysis
-------------------------------------------------------------</p><p>Profiling</p><ul><li>Use YourKit for finding hotspots (cpu profiling). when it comes to drilling down into the details
   of a hotspot, don't pay too much attention to the percentages / time counts.</li><li>Should also try other profilers.</li><li>Use timers. When a method showed up as a hotspot, I added a timer around that method, and a
   second one within the method to measure specific parts. The timers slow things down, but the
   relative numbers show what parts of a method are slow.</li></ul><p>ASM analyzer insights</p><ul><li>The time for running an analysis depends on the number of locals and the number of instructions.
   Reducing the number of locals helps speeding up the analysis: there are less values to
   merge when merging to frames.
   See also https://github.com/scala/scala-dev/issues/47</li><li>The common hot spot of an ASM analysis is Frame.merge, for example in producers / consumers.</li><li>For nullness analysis the time is spent as follows<ul><li>20% merging nullness values. this is as expected: for example, the same absolute amount of
     time is spent in merging BasicValues when running a BasicInterpreter.</li><li>50% merging alias sets. i tried to optimize what i could out of this.</li><li>20% is spent creating new frames from existing ones, see comment on AliasingFrame.init.</li></ul></li><li>The implementation of Frame.merge (the main hot spot) contains a megamorphic callsite to
   <code>interpreter.merge</code>. This can be observed easily by running a test program that either runs
   a BasicValue analysis only, versus a program that first runs a nullness analysis and then
   a BasicValue. In an example, the time for the BasicValue analysis goes from 519ms to 1963ms,
   a 3.8x slowdown.</li><li>I added counters to the Frame.merge methods for nullness and BasicValue analysis. In the
   examples I benchmarked, the number of merge invocations was always exactly the same.
   It would probably be possible to come up with an example where alias set merging forces
   additional analysis rounds until reaching the fixpoint, but I did not observe such cases.</li></ul><p>To benchmark an analysis, instead of benchmarking analysis while it runs in the compiler
backend, one can easily run it from a separate program (or the repl). The bytecode to analyze
can simply be parsed from a classfile. See example at the end of this comment.</p><p>Nullness Analysis in Miguel's Optimizer
---------------------------------------</p><p>Miguel implemented alias tracking for nullness analysis differently [1]. Remember that every
frame has an array of values. Miguel's idea was to represent aliasing using reference equality
in the values array: if two entries in the array point to the same value object, the two entries
are aliases in the frame of the given instruction.</p><p>While this idea seems elegant at first sight, Miguel's implementation does not merge frames
correctly when it comes to aliasing. Assume in frame 1, values (a, b, c) are aliases, while in
frame 2 (a, b) are aliases. When merging the second into the first, we have to make sure that
c is removed as an alias of (a, b).</p><p>It would be possible to implement correct alias set merging in Miguel's approach. However, frame
merging is the main hot spot of analysis. The computational complexity of implementing alias set
merging by traversing the values array and comparing references is too high. The concrete
alias set representation that is used in the current implementation (see class AliasingFrame)
makes alias set merging more efficient.</p><p>[1] https://github.com/scala-opt/scala/blob/opt/rebase/src/compiler/scala/tools/nsc/backend/bcode/NullnessPropagator.java</p><p>Complexity and scaling of analysis
----------------------------------</p><p>The time complexity of a data flow analysis depends on:</p><ul><li>The size of the method. The complexity factor is linear (assuming the number of locals and
    branching instructions remains constant). The main analysis loop runs through all
    instructions of a method once. Instructions are only re-enqueued if a control flow merge
    changes the frame at some instruction.</li><li>The branching instructions. When a second (third, ..) control flow edge arrives at an
    instruction, the existing frame at the instruction is merged with the one computed on the
    new branch. If the merge function changes the existing frame, the instruction is enqueued
    for another analysis. This results in a merge operation for the successors of the
    instruction.</li><li>The number of local variables. The hot spot of analysis is frame merging. The merge function
    iterates through the values in the frame (locals and stack values) and merges them.</li></ul><p>I measured the running time of an analysis for two examples:</p><ul><li>Keep the number of locals and branching instructions constant, increase the number of
    instructions. The running time grows linearly with the method size.</li><li>Increase the size and number of locals in a method. The method size and number of locals
    grow in the same pace. Here, the running time increase is polynomial. It looks like the
    complexity is be #instructions * #locals^2 (see below).</li></ul><p>I measured nullness analysis (which tracks aliases) and a SimpleValue analysis. Nullness runs
roughly 5x slower (because of alias tracking) at every problem size - this factor doesn't change.</p><p>The numbers below are for nullness. Note that the last column is constant, i.e., the running
time is proportional to #ins * #loc^2. Therefore we use this factor when limiting the maximal
method size for running an analysis.</p><p>  #insns    #locals    time (ms)       time / #ins * #loc<sup>2 * 10</sup>6
  1305      156        34              1.07
  2610      311        165             0.65
  3915      466        490             0.57
  5220      621        1200            0.59
  6525      776        2220            0.56
  7830      931        3830            0.56
  9135      1086       6570            0.60
  10440     1241       9700            0.60
  11745     1396       13800           0.60</p><p>As a second experiment, nullness analysis was run with varying #insns but constant #locals.
The last column shows linear complexity with respect to the method size (linearOffset = 2279):</p><p>  #insns     #locals     time (ms)    (time + linearOffset) / #insns
  5220       621         1090         0.645
  6224       621         1690         0.637
  7226       621         2280         0.630
  8228       621         2870         0.625
  9230       621         3530         0.629
  10232      621         4130         0.626
  11234      621         4770         0.627
  12236      621         5520         0.637
  13238      621         6170         0.638</p><p>When running a BasicValue analysis, the complexity observation is the same (time is proportional
to #ins * #loc^2).</p><p>Measuring analysis execution time
---------------------------------</p><p>See code below.
</p></div><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="scala.tools.nsc.backend.jvm" id="scala.tools.nsc.backend.jvm" class="extype">jvm</a></dd></dl></div></li><li class="indented6 current" name="scala.tools.nsc.backend.jvm.opt" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="opt" class="anchorToMember"></a><a id="opt:opt" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">opt</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="scala.tools.nsc.backend.jvm" id="scala.tools.nsc.backend.jvm" class="extype">jvm</a></dd></dl></div></li><li class="current-entities indented6"><span class="separator"></span> <a href="BoxUnbox.html" title="" class="class"></a><a href="BoxUnbox.html" title="">BoxUnbox</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="ByteCodeRepository.html" title="The ByteCodeRepository provides utilities to read the bytecode of classfiles from the compilation classpath." class="class"></a><a href="ByteCodeRepository.html" title="The ByteCodeRepository provides utilities to read the bytecode of classfiles from the compilation classpath.">ByteCodeRepository</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="BytecodeUtils$.html" title="" class="object"></a><a href="BytecodeUtils$.html" title="">BytecodeUtils</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="CallGraph.html" title="" class="class"></a><a href="CallGraph.html" title="">CallGraph</a></li><li class="current-entities indented6"><a href="ClosureOptimizer$.html" title="" class="object"></a> <a href="ClosureOptimizer.html" title="" class="class"></a><a href="ClosureOptimizer.html" title="">ClosureOptimizer</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="CopyProp.html" title="" class="class"></a><a href="CopyProp.html" title="">CopyProp</a></li><li class="current-entities indented6"><a href="InlineInfoAttribute$.html" title="" class="object"></a> <a href="InlineInfoAttribute.html" title="This attribute stores the InlineInfo for a ClassBType as an independent classfile attribute." class="class"></a><a href="InlineInfoAttribute.html" title="This attribute stores the InlineInfo for a ClassBType as an independent classfile attribute.">InlineInfoAttribute</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="InlineInfoAttributePrototype$.html" title="In order to instruct the ASM framework to deserialize the ScalaInlineInfo attribute, we need to pass a prototype instance when running the class reader." class="object"></a><a href="InlineInfoAttributePrototype$.html" title="In order to instruct the ASM framework to deserialize the ScalaInlineInfo attribute, we need to pass a prototype instance when running the class reader.">InlineInfoAttributePrototype</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="Inliner.html" title="" class="class"></a><a href="Inliner.html" title="">Inliner</a></li><li class="current-entities indented6"><a href="InlinerHeuristics$.html" title="" class="object"></a> <a href="InlinerHeuristics.html" title="" class="class"></a><a href="InlinerHeuristics.html" title="">InlinerHeuristics</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="LabelNotLive.html" title="" class="class"></a><a href="LabelNotLive.html" title="">LabelNotLive</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="LocalOpt.html" title="Optimizations within a single method." class="class"></a><a href="LocalOpt.html" title="Optimizations within a single method.">LocalOpt</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="LocalOptImpls$.html" title="" class="object"></a><a href="LocalOptImpls$.html" title="">LocalOptImpls</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="LruMap$.html" title="" class="object"></a><a href="LruMap$.html" title="">LruMap</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="RemovePair.html" title="" class="class"></a><a href="RemovePair.html" title="">RemovePair</a></li><li class="current-entities indented6"><span class="separator"></span> <a href="RemovePairDependency.html" title="" class="trait"></a><a href="RemovePairDependency.html" title="">RemovePairDependency</a></li></ul></div></div><div id="content"><body class="package value"><div id="definition"><div class="big-circle package">p</div><p id="owner"><a href="../../../../../index.html" name="scala" id="scala" class="extype">scala</a>.<a href="../../../../index.html" name="scala.tools" id="scala.tools" class="extype">tools</a>.<a href="../../../index.html" name="scala.tools.nsc" id="scala.tools.nsc" class="extype">nsc</a>.<a href="../../index.html" name="scala.tools.nsc.backend" id="scala.tools.nsc.backend" class="extype">backend</a>.<a href="../index.html" name="scala.tools.nsc.backend.jvm" id="scala.tools.nsc.backend.jvm" class="extype">jvm</a></p><h1>opt<span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/index.html" title="Permalink"><i class="material-icons"></i></a></span></h1></div><h4 id="signature" class="signature"><span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">opt</span></span></h4><div id="comment" class="fullcommenttop"><div id="content-diagram-container" class="toggleContainer block diagram-container"><span class="toggle diagram-link">Content Hierarchy</span><div id="content-diagram" class="diagram hiddenContent"><svg id="graph1" class="package-diagram" width="800" height="600"></svg><script type="text/dot" id="dot1">
digraph G {
  
  
  node0 [URL="LabelNotLive.html#inheritance-diagram-container", label="LabelNotLive", id="graph1_0", class="default", tooltip="scala.tools.nsc.backend.jvm.opt.LabelNotLive"] ;
  node1 [URL="RemovePair.html#inheritance-diagram-container", label="RemovePair", id="graph1_1", class="default", tooltip="scala.tools.nsc.backend.jvm.opt.RemovePair"] ;
  node2 [URL="RemovePairDependency.html#inheritance-diagram-container", label="RemovePairDependency", id="graph1_2", class="default", tooltip="scala.tools.nsc.backend.jvm.opt.RemovePairDependency"] ;
  node3 [URL="InlineInfoAttributePrototype$.html#inheritance-diagram-container", label="InlineInfoAttributePrototype", id="graph1_3", class="default", tooltip="scala.tools.nsc.backend.jvm.opt.InlineInfoAttributePrototype"] ;
  node4 [URL="InlineInfoAttribute.html#inheritance-diagram-container", label="InlineInfoAttribute", id="graph1_4", class="default", tooltip="scala.tools.nsc.backend.jvm.opt.InlineInfoAttribute"] ;
  
  
  node4 -> node3 [arrowtail="empty", dir="back", id="graph1_4_3", class="inheritance", tooltip="InlineInfoAttributePrototype is a subtype of InlineInfoAttribute"] ;
  node2 -> node1 [arrowtail="empty", dir="back", id="graph1_2_1", class="inheritance", tooltip="RemovePair is a subtype of RemovePairDependency"] ;
  node2 -> node0 [arrowtail="empty", dir="back", id="graph1_2_0", class="inheritance", tooltip="LabelNotLive is a subtype of RemovePairDependency"] ;
}
</script><script>$("#inheritance-diagram").bind('beforeShow', function() {
  if ($("svg#graph1").children().length == 0) {
    var dot = document.querySelector("#dot1").text;
    var svg = d3.select("#graph1");
    var inner = svg.append("g");

    // Set up zoom support
    var zoom = d3.zoom()
        .on("zoom", function() {
          inner.attr("transform", d3.event.transform);
        });
    svg.call(zoom);

    var render = new dagreD3.render();
    var g = graphlibDot.read(dot);
    render(inner, g);

    inner.selectAll("g.node").each(function(v) {
      // https://stackoverflow.com/questions/27381452/wrapping-existing-inline-svg-g-element-with-a-element
      var tgt = $("#"+ g.node(v).id +" g.label text")[0];
      var parent = tgt.parentNode;
      var a = document.createElementNS('http://www.w3.org/2000/svg', 'a');
      a.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', g.node(v).URL);
      a.appendChild(tgt);
      parent.appendChild(a);
    });
  }
})</script></div></div></div><div id="mbrsel"><div class="toggle"></div><div id="memberfilter"><i class="material-icons arrow"></i><span class="input"><input placeholder="Filter all members" id="mbrsel-input" type="text" accesskey="/"/></span><i class="clear material-icons"></i></div><div id="filterby"><div id="order"><span class="filtertype">Ordering</span><ol><li class="alpha in"><span>Alphabetic</span></li></ol></div><div id="visbl"><span class="filtertype">Visibility</span><ol><li class="public in"><span>Public</span></li><li class="protected out"><span>Protected</span></li></ol></div></div></div><div id="template"><div id="allMembers"><div id="types" class="types members"><h3>Type Members</h3><ol><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.BoxUnbox" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="BoxUnboxextendsAnyRef" class="anchorToMember"></a><a id="BoxUnbox:BoxUnbox" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/BoxUnbox.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="BoxUnbox.html" title=""><span class="name">BoxUnbox</span></a><span class="result"> extends <a href="../../../../../index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.ByteCodeRepository" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="ByteCodeRepositoryextendsPerRunInit" class="anchorToMember"></a><a id="ByteCodeRepository:ByteCodeRepository" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/ByteCodeRepository.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="ByteCodeRepository.html" title="The ByteCodeRepository provides utilities to read the bytecode of classfiles from the compilation classpath."><span class="name">ByteCodeRepository</span></a><span class="result"> extends <a href="../PerRunInit.html" name="scala.tools.nsc.backend.jvm.PerRunInit" id="scala.tools.nsc.backend.jvm.PerRunInit" class="extype">PerRunInit</a></span></span><p class="shortcomment cmt">The ByteCodeRepository provides utilities to read the bytecode of classfiles from the compilation
classpath.</p><div class="fullcomment"><div class="comment cmt"><p>The ByteCodeRepository provides utilities to read the bytecode of classfiles from the compilation
classpath. Parsed classes are cached in the <code>classes</code> map.
</p></div></div></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.CallGraph" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="CallGraphextendsAnyRef" class="anchorToMember"></a><a id="CallGraph:CallGraph" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/CallGraph.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="CallGraph.html" title=""><span class="name">CallGraph</span></a><span class="result"> extends <a href="../../../../../index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.ClosureOptimizer" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="ClosureOptimizerextendsAnyRef" class="anchorToMember"></a><a id="ClosureOptimizer:ClosureOptimizer" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/ClosureOptimizer.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="ClosureOptimizer.html" title=""><span class="name">ClosureOptimizer</span></a><span class="result"> extends <a href="../../../../../index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.CopyProp" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="CopyPropextendsAnyRef" class="anchorToMember"></a><a id="CopyProp:CopyProp" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/CopyProp.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="CopyProp.html" title=""><span class="name">CopyProp</span></a><span class="result"> extends <a href="../../../../../index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.InlineInfoAttribute" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="InlineInfoAttributeextendsAttributewithProductwithSerializable" class="anchorToMember"></a><a id="InlineInfoAttribute:InlineInfoAttribute" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/InlineInfoAttribute.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">case class</span></span> <span class="symbol"><a href="InlineInfoAttribute.html" title="This attribute stores the InlineInfo for a ClassBType as an independent classfile attribute."><span class="name">InlineInfoAttribute</span></a><span class="params">(<span name="inlineInfo">inlineInfo: <a href="../BTypes$$InlineInfo.html" name="scala.tools.nsc.backend.jvm.BTypes.InlineInfo" id="scala.tools.nsc.backend.jvm.BTypes.InlineInfo" class="extype">InlineInfo</a></span>)</span><span class="result"> extends <span name="scala.tools.asm.Attribute" class="extype">Attribute</span> with <a href="https://www.scala-lang.org/api/2.13.12/scala/Product.html#scala.Product" name="scala.Product" id="scala.Product" class="extype">Product</a> with <a href="../../../../../index.html#Serializable=java.io.Serializable" name="scala.Serializable" id="scala.Serializable" class="extmbr">Serializable</a></span></span><p class="shortcomment cmt">This attribute stores the InlineInfo for a ClassBType as an independent classfile attribute.</p><div class="fullcomment"><div class="comment cmt"><p>This attribute stores the InlineInfo for a ClassBType as an independent classfile attribute.
The compiler does so for every class being compiled.</p><p>The reason is that a precise InlineInfo can only be obtained if the symbol for a class is available.
For example, we need to know if a method is final in Scala's terms, or if it has the @inline annotation.
Looking up a class symbol for a given class filename is brittle (name-mangling).</p><p>The attribute is also helpful for inlining mixin methods. The mixin phase only adds mixin method
symbols to classes that are being compiled. For all other class symbols, there are no mixin members.
However, the inliner requires an InlineInfo for inlining mixin members. That problem is solved by
reading the InlineInfo from this attribute.</p><p>In principle we could encode the InlineInfo into a Java annotation (instead of a classfile attribute).
However, an attribute allows us to save many bits. In particular, note that the strings in an
InlineInfo are serialized as references to constants in the constant pool, and those strings
(method names, method signatures) would exist in there anyway. So the
ScalaInlineAttribute remains relatively compact.
</p></div></div></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.Inliner" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="InlinerextendsAnyRef" class="anchorToMember"></a><a id="Inliner:Inliner" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/Inliner.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="Inliner.html" title=""><span class="name">Inliner</span></a><span class="result"> extends <a href="../../../../../index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.InlinerHeuristics" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="InlinerHeuristicsextendsPerRunInit" class="anchorToMember"></a><a id="InlinerHeuristics:InlinerHeuristics" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/InlinerHeuristics.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="InlinerHeuristics.html" title=""><span class="name">InlinerHeuristics</span></a><span class="result"> extends <a href="../PerRunInit.html" name="scala.tools.nsc.backend.jvm.PerRunInit" id="scala.tools.nsc.backend.jvm.PerRunInit" class="extype">PerRunInit</a></span></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.LabelNotLive" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="LabelNotLiveextendsRemovePairDependencywithProductwithSerializable" class="anchorToMember"></a><a id="LabelNotLive:LabelNotLive" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/LabelNotLive.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">case class</span></span> <span class="symbol"><a href="LabelNotLive.html" title=""><span class="name">LabelNotLive</span></a><span class="params">(<span name="label">label: <span name="scala.tools.asm.tree.LabelNode" class="extype">LabelNode</span></span>)</span><span class="result"> extends <a href="RemovePairDependency.html" name="scala.tools.nsc.backend.jvm.opt.RemovePairDependency" id="scala.tools.nsc.backend.jvm.opt.RemovePairDependency" class="extype">RemovePairDependency</a> with <a href="https://www.scala-lang.org/api/2.13.12/scala/Product.html#scala.Product" name="scala.Product" id="scala.Product" class="extype">Product</a> with <a href="../../../../../index.html#Serializable=java.io.Serializable" name="scala.Serializable" id="scala.Serializable" class="extmbr">Serializable</a></span></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.LocalOpt" group="Ungrouped" fullComment="yes" data-isabs="true" visbl="pub"><a id="LocalOptextendsAnyRef" class="anchorToMember"></a><a id="LocalOpt:LocalOpt" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/LocalOpt.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">abstract </span> <span class="kind">class</span></span> <span class="symbol"><a href="LocalOpt.html" title="Optimizations within a single method."><span class="name">LocalOpt</span></a><span class="result"> extends <a href="../../../../../index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span><p class="shortcomment cmt">Optimizations within a single method.</p><div class="fullcomment"><div class="comment cmt"><p>Optimizations within a single method. Certain optimizations enable others, for example removing
unreachable code can render a <code>try</code> block empty and enable removeEmptyExceptionHandlers. The
latter in turn enables more unreachable code to be eliminated (the <code>catch</code> block), so there is
a cyclic dependency. Optimizations that depend on each other are therefore executed in a loop
until reaching a fixpoint.</p><p>The optimizations marked UPSTREAM enable optimizations that were already executed, so they cause
another iteration in the fixpoint loop.</p><p>nullness optimizations: rewrite null-checking branches to GOTO if nullness is known
  + enables downstream</p><ul><li>unreachable code (null / non-null branch becomes unreachable)</li><li>box-unbox elimination (may render an escaping consumer of a box unreachable)</li><li>stale stores (aload x is replaced by aconst_null if it's known null)</li><li>simplify jumps (replaces conditional jumps by goto, so may enable goto chains)</li></ul><p>unreachable code / DCE (removes instructions of basic blocks to which there is no branch)
  + enables downstream:</p><ul><li>stale stores (loads may be eliminated, removing consumers of a store)</li><li>empty handlers (try blocks may become empty)</li><li>simplify jumps (goto l; [dead code]; l: ..) =&gt; remove goto</li><li>stale local variable descriptors</li><li>(not box-unbox, which is implemented using prod-cons, so it doesn't consider dead code)</li></ul><p>  note that eliminating empty handlers and stale local variable descriptors is required for
  correctness, see the comment in the body of <code>methodOptimizations</code>.</p><p>box-unbox elimination (eliminates box-unbox pairs within the same method)
  + enables UPSTREAM:</p><ul><li>nullness optimizations (a box extraction operation (unknown nullness) may be rewritten to
      a read of a non-null local. example in doc comment of box-unbox implementation)</li><li>further box-unbox elimination (e.g. an Integer stored in a Tuple; eliminating the tuple may
      enable eliminating the Integer)
  + enables downstream:</li><li>copy propagation (new locals are introduced, may be aliases of existing)</li><li>stale stores (multi-value boxes where not all values are used)</li><li>redundant casts (<code>("a", "b")._1</code>: the generic <code>_1</code> method returns <code>Object</code>, a cast
      to String is added. The cast is redundant after eliminating the tuple.)</li><li>empty local variable descriptors (local variables that were holding the box may become unused)</li></ul><ul><li>push-pop (due to artifacts of eliminating runtime type tests on primitives)</li></ul><p>copy propagation (replaces LOAD n to the LOAD m for the smallest m that is an alias of n)
  + enables downstream:</p><ul><li>stale stores (a stored value may not be loaded anymore)</li><li>store-load pairs (a load n may now be right after a store n)</li></ul><p>stale stores (replace STORE by POP), rewrites <code>ClassTag(x).newArray</code>, inlines <code>array_apply/update</code>
  + enables UPSTREAM:</p><ul><li>nullness optimizations (newArray rewrite or inlining may turn things non-null)
  + enables downstream:</li><li>push-pop (the new pop may be the single consumer for an instruction)</li><li>redundant casts (because rewrites <code>newArray</code>, the array type gets more precise)</li></ul><p>redundant casts and rewrite some intrinsics: eliminates casts that are statically known to
succeed (uses type propagation), rewrites instanceof checks, rewrites intrinsics.
  + enables UPSTREAM:</p><ul><li>box-unbox elimination (a removed checkcast may be a box consumer)</li><li>copy propagation (a removed checkcast may turn an upcasted local variable into an alias)
  + enables downstream:</li><li>push-pop for closure allocation elimination (every indyLambda is followed by a checkcast,
      see scala/bug#9540)</li><li>redundant casts (changing an instanceof to true/false removes branches and can make types
      of other values more precise)</li></ul><p>push-pop (when a POP is the only consumer of a value, remove the POP and its producer)
  + enables UPSTREAM:</p><ul><li>stale stores (if a LOAD is removed, a corresponding STORE may become stale)</li><li>box-unbox elimination (push-pop may eliminate a closure allocation, rendering a captured
      box non-escaping)</li><li>redundant casts (Int.unbox(x) is replaced by <code>x.asInstanceOf[Integer]; pop</code>)</li><li>nullness (<code>x.intValue</code> is replaced by <code>if (x == null) throw null</code>)
  + enables downstream:</li><li>store-load pairs (a variable may become non-live)</li><li>stale handlers (push-pop removes code)</li><li>simplify jumps (push-pop removes code)</li></ul><p>store-load pairs (remove <code>STORE x; LOAD x</code> if x is otherwise not used in the method)
  + enables downstream:</p><ul><li>empty handlers (code is removes, a try block may become empty</li><li>simplify jumps (code is removed, a goto may become redundant for example)</li><li>stale local variable descriptors</li></ul><p>empty handlers (removes exception handlers whose try block is empty)
  + enables UPSTREAM:</p><ul><li>unreachable code (catch block becomes unreachable)</li><li>box-unbox (a box may be escape in an operation in a dead handler)
  + enables downstream:</li><li>simplify jumps</li></ul><p>simplify jumps (various, like <code>GOTO l; l: ...</code>, see doc comments of individual optimizations)
  + enables UPSTREAM</p><ul><li>unreachable code (<code>GOTO a; a: GOTO b; b: ...</code>, the first jump is changed to <code>GOTO b</code>, the second becomes unreachable)</li><li>store-load pairs (a <code>GOTO l; l: ...</code> is removed between store and load)</li><li>push-pop (<code>IFNULL l; l: ...</code> is replaced by <code>POP</code>)</li></ul><p>The following cleanup optimizations don't enable any upstream optimizations, so they can be
executed once at the end, when the above optimizations reach a fixpoint.</p><p>empty local variable descriptors (removes unused variables from the local variable table)</p><p>empty line numbers (eliminates line number nodes that describe no executable instructions)</p><p>At this point, we used to filter out redundant label nodes (sequences of labels without any
executable instructions in between). However, this operation is relatively expensive, and
unnecessary: labels don't exist in the classfile, they are lowered to bytecode offsets, so
redundant labels disappear by design.</p><p>Note on a method's maxLocals / maxStack: the backend only uses those values for running
Analyzers. The values can be conservative approximations: if an optimization removes code and
the maximal stack size is now smaller, the larger maxStack value will still work fine for
running an Analyzer (just that frames allocate more space than required). The correct max
values written to the bytecode are re-computed during classfile serialization.
To keep things simpler, we don't update the max values in every optimization:</p><ul><li>we do it in <code>removeUnreachableCodeImpl</code>, because it's quite straightforward</li><li>maxLocals is updated in <code>compactLocalVariables</code>, which runs at the end of method optimizations</li></ul><p>Note on updating the call graph: whenever an optimization eliminates a callsite or a closure
instantiation, we eliminate the corresponding entry from the call graph.
</p></div></div></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.RemovePair" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="RemovePairextendsRemovePairDependencywithProductwithSerializable" class="anchorToMember"></a><a id="RemovePair:RemovePair" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/RemovePair.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">case class</span></span> <span class="symbol"><a href="RemovePair.html" title=""><span class="name">RemovePair</span></a><span class="params">(<span name="store">store: <span name="scala.tools.asm.tree.VarInsnNode" class="extype">VarInsnNode</span></span>, <span name="other">other: <span name="scala.tools.asm.tree.AbstractInsnNode" class="extype">AbstractInsnNode</span></span>, <span name="depends">depends: <a href="../../../../../index.html#List[+A]=List[A]" name="scala.List" id="scala.List" class="extmbr">List</a>[<a href="RemovePairDependency.html" name="scala.tools.nsc.backend.jvm.opt.RemovePairDependency" id="scala.tools.nsc.backend.jvm.opt.RemovePairDependency" class="extype">RemovePairDependency</a>]</span>)</span><span class="result"> extends <a href="RemovePairDependency.html" name="scala.tools.nsc.backend.jvm.opt.RemovePairDependency" id="scala.tools.nsc.backend.jvm.opt.RemovePairDependency" class="extype">RemovePairDependency</a> with <a href="https://www.scala-lang.org/api/2.13.12/scala/Product.html#scala.Product" name="scala.Product" id="scala.Product" class="extype">Product</a> with <a href="../../../../../index.html#Serializable=java.io.Serializable" name="scala.Serializable" id="scala.Serializable" class="extmbr">Serializable</a></span></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.RemovePairDependency" group="Ungrouped" fullComment="no" data-isabs="true" visbl="pub"><a id="RemovePairDependencyextendsAnyRef" class="anchorToMember"></a><a id="RemovePairDependency:RemovePairDependency" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/RemovePairDependency.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">sealed </span> <span class="kind">trait</span></span> <span class="symbol"><a href="RemovePairDependency.html" title=""><span class="name">RemovePairDependency</span></a><span class="result"> extends <a href="../../../../../index.html#AnyRef=Object" name="scala.AnyRef" id="scala.AnyRef" class="extmbr">AnyRef</a></span></span></li></ol></div><div class="values members"><h3>Value Members</h3><ol><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.BytecodeUtils" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="BytecodeUtils" class="anchorToMember"></a><a id="BytecodeUtils:BytecodeUtils" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/BytecodeUtils$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="BytecodeUtils$.html" title=""><span class="name">BytecodeUtils</span></a></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.ClosureOptimizer" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="ClosureOptimizer" class="anchorToMember"></a><a id="ClosureOptimizer:ClosureOptimizer" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/ClosureOptimizer$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="ClosureOptimizer$.html" title=""><span class="name">ClosureOptimizer</span></a></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.InlineInfoAttribute" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="InlineInfoAttribute" class="anchorToMember"></a><a id="InlineInfoAttribute:InlineInfoAttribute" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/InlineInfoAttribute$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="InlineInfoAttribute$.html" title=""><span class="name">InlineInfoAttribute</span></a><span class="result"> extends <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html#java.io.Serializable" name="java.io.Serializable" id="java.io.Serializable" class="extype">java.io.Serializable</a></span></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.InlineInfoAttributePrototype" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="InlineInfoAttributePrototype" class="anchorToMember"></a><a id="InlineInfoAttributePrototype:InlineInfoAttributePrototype" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/InlineInfoAttributePrototype$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="InlineInfoAttributePrototype$.html" title="In order to instruct the ASM framework to deserialize the ScalaInlineInfo attribute, we need to pass a prototype instance when running the class reader."><span class="name">InlineInfoAttributePrototype</span></a><span class="result"> extends <a href="InlineInfoAttribute.html" name="scala.tools.nsc.backend.jvm.opt.InlineInfoAttribute" id="scala.tools.nsc.backend.jvm.opt.InlineInfoAttribute" class="extype">InlineInfoAttribute</a></span></span><p class="shortcomment cmt">In order to instruct the ASM framework to deserialize the ScalaInlineInfo attribute, we need
to pass a prototype instance when running the class reader.</p></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.InlinerHeuristics" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="InlinerHeuristics" class="anchorToMember"></a><a id="InlinerHeuristics:InlinerHeuristics" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/InlinerHeuristics$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="InlinerHeuristics$.html" title=""><span class="name">InlinerHeuristics</span></a></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.LocalOptImpls" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="LocalOptImpls" class="anchorToMember"></a><a id="LocalOptImpls:LocalOptImpls" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/LocalOptImpls$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="LocalOptImpls$.html" title=""><span class="name">LocalOptImpls</span></a></span></li><li class="indented0 " name="scala.tools.nsc.backend.jvm.opt.LruMap" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="LruMap" class="anchorToMember"></a><a id="LruMap:LruMap" class="anchorToMember"></a> <span class="permalink"><a href="../../../../../../scala/tools/nsc/backend/jvm/opt/LruMap$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="LruMap$.html" title=""><span class="name">LruMap</span></a></span></li></ol></div></div><div id="inheritedMembers"></div><div id="groupedMembers"><div name="Ungrouped" class="group"><h3>Ungrouped</h3></div></div></div><div id="tooltip"></div><div id="footer">Scala programming documentation. Copyright (c) 2002-2023 <a href="https://www.epfl.ch" target="_top">EPFL</a> and <a href="https://www.lightbend.com" target="_top">Lightbend</a>.</div></body></div></div></div></body></html>
